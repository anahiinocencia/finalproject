---
title: "Usuarios de Smartphones"
output: html_document
---

## Análisis Exploratorio de Datos (AED)

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
```
```{r echo=FALSE, message=FALSE, warning=FALSE}
library(here)

#```{r echo=FALSE, message=FALSE, warning=FALSE}
here::i_am("scripts/smartphones_users_eda.Rmd")

##home <- "C:/Users/Dell/Documents/reproducible"
##path <- paste(home,"data/mobile_usage_behavioral_analysis.csv", sep = '/')

users <-read.csv(here::here("data/mobile_usage_behavioral_analysis.csv"))

```
### Descripción del dataset

```{r}
glimpse(users)
```
Como podemos obervar, tenemos en total `r nrow(users)` y  `r ncol(users)` variables. Por conveniencia, vamos a modificar los nombres de las variables para tener su nombre en minúsculas.

```{r}
temp <- names(users)
names(users) <- tolower(temp)
rm(temp)
```

Es conveniente tener una variable para representar cada uno de los tres grupos de edad: Adulto, media edad, adulto mayor.
```{r}
users <- mutate(users, age_group = case_when(age >= 18 & age < 40 ~ "A",
                                             age >= 40 & age < 60 ~ "EM",
                                             age >= 60 ~ "AM"  ), .after = age)

```
# Análisis Descriptivo
Esta sección presenta un resumen estádistico del conjunto de datos.

### Edad de los usuario
La edad de los usuarios tiene una media = `r mean(users$age)`  y una desviación estándard = `r sd(users$age)`. La edad media para las mujeres es `r mean(users[ users$gender == 'Female' ,'age'])` ( sd = `r sd(users[ users$gender == 'Female' ,'age'])`).  La edad media para usuarios de género masculino es `r mean(users[ users$gender == 'Male' ,'age'])` ( sd = `r sd(users[ users$gender == 'Male' ,'age'])`). 

```{r echo=FALSE, warning=FALSE}
summary(users$age)

users |> ggplot( aes(x=users$age,fill = gender ) ) +
  geom_histogram(binwidth = 5, position = "dodge") + 
  ggtitle("Uso de Smartphone","Edad de los usuarios") +
  xlab("Edad") + ylab("Usuarios")


users |> ggplot(aes(x=gender,y = age)) +
  geom_boxplot() +
  ggtitle("Uso de Smartphone","Edad de los usuarios") +
  xlab("Edad") + ylab("Usuarios")
```

### Género de los usuarios

En la siguiente tabla se muestra un resumen de los usuarios por género.

```{r echo=FALSE}
temp <- summarise(users, n = n(), .by = gender) |> 
  mutate( pct = n/nrow(users)*100 )

knitr::kable(temp,caption = "Género de los usuarios.")


users |> ggplot( aes(x=gender)) +
  geom_bar() +
  ggtitle("Uso de Smartphone","Género de los usuarios") +
  xlab("Género") + ylab("Usuarios")
```


### Ubicación de los usuarios
En la siguiente tabla se muestra un resumen de los usuarios por su ubicación.


```{r echo=FALSE}
temp <- summarise(users, n = n(), .by = location) |> 
  mutate( pct = n/nrow(users)*100 )

knitr::kable(temp,caption = "Ubicación de los usuarios.")


users |> ggplot( aes(x=location)) +
  geom_bar() +
  ggtitle("Uso de Smartphone","Ubicación de los usuarios") +
  xlab("Ciudad") + ylab("Usuarios")
```

### Uso de aplicaciones
El tiempo total de uso de aplicaciones para cada usuario esta dado por la variable *total_app_usage_hours*. Esta variable tiene una media = `r mean(users$total_app_usage_hours)` (sd=`r sd(users$total_app_usage_hours)`).


```{r echo=FALSE, warning=FALSE}
summary(users$total_app_usage_hours)

users |> ggplot( aes(x=users$total_app_usage_hours) ) +
  geom_histogram(binwidth = 1) + 
  scale_x_binned()+
  ggtitle("Uso de Smartphone","Uso de aplicaciones") +
  xlab("Horas") + ylab("Usuarios")

users |> ggplot( aes(x=users$total_app_usage_hours) ) +
 geom_density() + 
  ggtitle("Uso de Smartphone","Uso de aplicaciones") +
  xlab("Horas") + ylab("Densidad")


```

La siguiente gráfica compara el tiempo de uso en función de la edad.

```{r echo=FALSE, warning=FALSE}

users |> ggplot( aes(x=age, y=total_app_usage_hours ) ) +
  geom_bin2d() +
  ggtitle("Uso de Smartphone","Uso de aplicaciones por edad") +
  xlab("Edad") + ylab("Horas")


```


## ¿Cómo varía el uso de apps según el género?
En esta sección vamos analizar como cambia el uso de las aplicaciones en smartphone por género.


## ¿Cómo varía el uso de apps de juegos según el grupo de edad?



## ¿Qué categoría de apps tiene el mayor uso promedio?
